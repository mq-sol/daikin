## 接続仕様

### 決済要求
下記内容のパラメータを、

https://payment.niyol.jp/api/do-request

までpost送信してください。

-----
* **account_code : アカウントコード[必須]**
  半角英数16文字以内
  弊社発行の指定コードを使用してください。
---  
* **reference_code : 参照用コード[必須]**
  半角英数64文字以内
  接続元システム側の決済固有のコードを設定してください。
---  
* **amount : 決済金額[必須]**
  半角数字
  決済する金額を指定してください。
---
* **telno : 電話番号**
  半角数字16文字以内
  顧客電話番号を指定してください。指定しない場合は加盟店電話番号が登録されます。
---
* **item_name : 商品名**
  UTF-8エンコード256バイト以内
  決済に関連付ける商品名を指定してください。
  一覧表示時に表示されます。
---
* **customer_code : 顧客コード**
  半角英数64文字以内
  接続元システム側の顧客を特定出来るコードを設定してください。
  使用したカードを関連付けて保持します。【将来使用】
---
* **name : 顧客名**
  UTF-8エンコード64バイト以内
  顧客コードを指定した場合内部保存されます。【将来使用】
---  
* **email : メールアドレス**
  半角英数256文字以内
  顧客コードを指定した場合内部保存されます。【将来使用】
---
* **redirect_target : リダイレクト先URL**
  半角英数256文字以内
  指定した場合は決済終了画面に元のサイトに戻るリンク先として設定されます。
  ※事前申請での登録も可能です。
---  
* **response_target : 結果通知先URL**
  半角英数256文字以内
  指定した場合は決済処理後の結果を指定（後述）の方法で送信します。
  ※事前申請での登録も可能です。
---  
* **response_method : 結果通知メソッド**
  post / get　のどちらかを指定してください。無指定の場合はpost送信します。  
  
### 結果通知

下記パラメータをresponse_target_urlで指定されたURLに指定メソッドで送信します。
正常受信した場合は、ステータスコード：200　を返してください。
200が返却されない場合、5分毎に最大10回まで同一内容を送信します。

---
* **status_code : 結果コード**
  半角英数3文字
  * 000 : 決済正常終了
  * 100 〜 999 : 決済不能
  エラーコードは別表で提供します。
---
* **amount : 決済金額**
  決済要求時の金額をそのまま返却します。
---
* **reference_code : 参照コード**
  決済要求時の参照コードをそのまま返却します。
---
* **payment_id : 決済ID**
  決済を特定するシステム側生成の固有値を返却します。
  
